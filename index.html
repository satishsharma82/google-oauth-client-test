<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google OAuth Client</title>
</head>
<body>

    <h1>Sign In with Google</h1>

    <!-- Google Sign-In Button -->
    <div id="google-signin-button"></div>

    <!-- Include the Google API script -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>

    <script>
        // Google Sign-In configuration
        function startApp() {
            gapi.auth2.init({
                client_id: '273847696094-inaafp42c5r21d07mg0pgo3itrkhrp6o.apps.googleusercontent.com',
            }).then(function () {
                // Render the Google Sign-In button
                gapi.signin2.render('google-signin-button', {
                    'scope': 'profile email',
                    'longtitle': true,
                    'theme': 'dark',
                    'onsuccess': onSignIn,
                    'onfailure': onSignInFailure
                });
            });
        }

        // Success callback
        function onSignIn(googleUser) {
            var profile = googleUser.getBasicProfile();
            console.log("ID: " + profile.getId());
            console.log("Name: " + profile.getName());
            console.log("Email: " + profile.getEmail());

            // Redirect to your callback URL (set in your OAuth provider)
            window.location.href = 'https://satishsharma82.github.io/google-oauth-client-test/callback?token=' + googleUser.getAuthResponse().id_token;
        }

        // Failure callback
        function onSignInFailure(error) {
            console.log(error);
        }

        // Initialize the Google Sign-In client
        startApp();
    </script>

</body>
</html>
